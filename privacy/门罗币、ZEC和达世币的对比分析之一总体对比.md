# 门罗币、零币和达世币的对比分析之一总体对比

## 一、目前匿名加密货币的情况
区块链的一个重要特点是公开性，也就是说，任何人都可以从链上把整个区块的数据拉取下来，虽然包括比特币等区块链项目都采用的匿名交易，但是通过对数据地址和相关IP的分析，仍然大概率发现交易的双方。而相当一部分交易是不需要或者说不想让别人知道交易的细节的。特别是交易的对象。因此，一些新的增加了隐私性的区块链就应运而生，其中，比较有特点有以下几个：
</br>
1、门罗币：门罗币主要是是采用签名来保护隐私性。
</br>
2、零币：人们觉得不好听，叫ZEC，这个不重要。它主要使用snark库来实现零知识明，达到保护隐私的目的。
</br>
3、达世币，也就是原来的暗黑币，听这名字就知道这个是什么人在用。肯定隐私保护的好，他使用的是混币技术。
</br>
其它比如PIVX、CLOAK （斗篷币）以及（CoinSuffle）NXT就不再一一对比分析，有兴趣可以查看相关技术资料。

## 二、门罗币（monero）

门罗使用的算法是基于Crypto Note协议的Crypto Night算法，最初是为了抵抗类似比特币的矿机而设计的。但后来还是出现了类似的矿机。
</br>
门罗币使用的是环签名，那么什么是环签名呢？要想明白环签名，首先要搞明白群签名。
</br>
群签名的特点：只有群中成员能够代表群体签名（群特性）；接收者可以用公钥验证群签名（验证简单性）；接收者不能知道由群体中哪个成员所签（无条件匿名保护）；发生争议时，群体中的成员或可信赖机构可以识别签名者（可追查性）。更多细节可以查看维基百科：
</br>
http://en.wikipedia.org/wiki/Group_signature
</br>
环签名：签名者首先选定一个临时的签名者集合,集合中包括签名者自身。然后签名者利用自己的私钥和签名集合中其他人的公钥就可以独立的产生签名,而无需他人的帮助。签名者集合中的其他成员可能并不知道自己被包含在其中。
</br>
二者的区别在于：
</br>
1、群签名可以追踪签名者而环签名还情况下不可以。
</br>
2、群签名有管理员，而环签名不需要。
</br>
更多的数学定义请自行查阅相关资料。
</br>
环签名主要有四大类：
</br>
1、门限环签名
</br>
2、关联环签名
</br>
3、可撤销匿名性的环签名
</br>
4、可否认的环签名
</br>
在2017年9月，门罗币每六个月一次的硬分叉升级上使用了环形机密交易（Ring Confidential Transactions）算法，它更好的保护了隐私性。在后面的源码分析中，会针对具体的加密细节进行阐述。

## 三、零币ZEC（ZCash）
ZCash是基于比特币0.11.2开发的，二者的最主要的不同就在于隐私性的保护。前者使用了零知识证明算法zk-SNARKS。
</br>
简单的来说，零知识证明就是证明者能够在不向验证者提供任何有用的信息的情况下，使验证者相信某个论断是正确的。网上有几个经典的例子，最典型的就是大家熟悉的阿里巴巴和四十大盗的开门问题。
</br>
ZEC的应用原理是把有的币匿名集中起来，在主链上（zerocoin就是在比特币的主链外增加了一条辅助的侧链，而Zcash是在Zerocoin基础上）进行一种类似于混币的过程，这样就完全不知道交易的信息了。
</br>
ZEC的交易有三种方式：
</br>
1、透明资金发送到透明地址，使用bitcoin的交易方式。
2、透明资金发送到透明地址、私有地址，透明资金发送到透明地址，使用bitcoin的方式，发送到私有地址的需要构造证明，然后对整个交易签名才能发送。
3、私有资金发送到透明地址、私有地址，每笔交易需要生成证明，涉及到找零、矿工费的处理，最后再签名发送。
</br>
ZEC的隐藏部分很少，只有大约十分之一，原因就是前面提到的，那个零知识证明是非常耗时的，所以大多数不必要的交易就直接透明传输了。不过所国外的网站上说，好像zk-SNARKS算法并没有经过严格的学术测试，换句话说，这东西太新，到底有多靠谱还需要时间来检验。
</br>
比如有人就提到，zcash存在trust setup 缺陷， 也就是通过该缺陷产生的随机种子， 可以跟踪货币的接受和发送者。
</br>

## 四、达世币DASH（原来的暗黑币）

达世币也有三种转账方式：
</br>
1、是像比特币一样的普通转账。
</br>
2、是即时交易。不需要矿工打包确认，就可以确认交易，几乎可以实现秒到。
</br>
3、是匿名交易。从区块链上看不到是谁和谁进行了转账。
</br>
达世币如何进行匿名交易呢？达世币中除了普通节点之外，还有一种节点叫“主节点”。主节点可以提供一系列服务，如：匿名交易和即时支付。如果有用户发起了匿名交易，它的申请会发送到相关的主节点上，然后主节点根据情况，把多个申请者的交易进行混合，也就是混币（一般来说，是三笔交易一起进行。）网上有一个例子，一桌人把自己的钱都放在桌上，混在一起，然后再分别拿回相应面值的钱，这样就不知道你手里的钱到底是谁的了，这就是混币。混币后，网络就不知道究竟谁转账给了谁。
</br>
达世币的优势在于，它可以比较容易的实现隐私性，不需要额外的新的算法，即使在混币的过程中会有性能损失，从理论上讲还是可以忍受的。
</br>

## 五、对比

</br>
零知识证明的优越性是无可比拟的，但是，它的明显的缺点是没经过长时间的检测，运行速度太慢，即使经过不断的优化，其运行的时间仍然维持在了将近十秒的左右。这个就大规模推广使用而言，仍然有很远的距离。
</br>
另外，它只能处理固定面值的交易，交易的数据量也比较大（25K），而且它的匿名性也使其不好监管，产生的BUG就是，黑客可以任意的创造币，导致发行量的巨额增加。
</br>
环签名的缺点是，仍然有办法被攻破，而导致隐私交易达不到隐私的目的。在相关资料上，有人提问，经过环签名的隐私保护程度如何？答案是“依赖于所有参与此次环签名的钥匙（key）都不可追踪。”换句话说，有一个签名的私钥可追踪，那么就会使隐私性受到威胁。
</br>
另外CoyptoNote本身是有漏洞的，门罗币曾经遭到过一次子集网络划分的攻击。
</br>
达世币的混币池交易，从理论上讲是安全的，但实际上，混币的过程也有很多漏洞，首先，混币为了能够更好的隐藏交易，一般是中心化部署的，很容易受到攻击，而且混币的主节点如果能够做恶，那啥也别说了。
</br>
另外，如果用户在交易时没有及时清理Cookie，还是可能通过技术手段寻找到相关的信息的。
</br>

## 六、总结
总之，在区块链上搞隐私的方法现在是百花齐放，从各个角度各个层面都有切入的，但是匿名性必然会增加链的负担，所以需要在二者之间寻找一个动态的平衡，既要保证交易的可持续，又要隐私的安全性。
</br>
这三种区块链进行了有益的探索，但是从实用的角度看，还有相当的不足，仍然需要进一步的完善和发展。
</br>
